source $HOMEBREW_PREFIX/share/antigen/antigen.zsh

# ---------------------------------------------------------------------------
# Antigen
antigen use oh-my-zsh

antigen bundles <<EOF
    git
    npm
    yarn
    pnpm
    gitfast
    ripgrep
    fzf
    macos
    tmux
    djui/alias-tips
    zsh-users/zsh-autosuggestions
    zsh-users/zsh-completions
    zsh-users/zsh-history-substring-search
    zsh-users/zsh-syntax-highlighting
EOF

antigen apply

# ---------------------------------------------------------------------------
# Startship Prompt
eval "$(starship init zsh)"

# ---------------------------------------------------------------------------
# FNM (replacement of NVM)
export FNM_COREPACK_ENABLED=true
eval "$(fnm env --use-on-cd)"

# ---------------------------------------------------------------------------
# Aliases

alias ls="lsd --group-dirs=first"
alias ll="ls -l --git '--date=+%Y-%m-%d %H:%M:%S'"
alias l="ll --blocks=permission,size,date,name"
alias la="l -A"

alias c="code ."
alias yx="yarn dlx"

# removes the -v flag in the oh-my-zsh git plugin
alias gc="git commit"

# restore the run-help command (aliased to man for some reason)
unalias run-help
autoload run-help

# ---------------------------------------------------------------------------
# Auto-start tmux for SSH sessions
if [[ -z "$TMUX" ]] && [[ -n "$SSH_CONNECTION" ]]; then
  tmux attach-session -t remote || tmux new-session -s remote
fi
